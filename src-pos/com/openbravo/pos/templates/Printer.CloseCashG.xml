Peonia Boutique<?xml version="1.0" encoding="UTF-8"?>

<output>
    <ticket>
        <!-- <image>Printer.Ticket.Logo</image>
        <line></line> -->
        <line size="1" bold="true">
            <text align="left" length="38">Peonia Boutique</text>
        </line>
        <line></line>
        <line size="1" bold="true">
            <text align="left" length="38">  Cierre de caja</text>
        </line>
        <line></line>
        <line>
            <text align="right" length="10">Caja:</text>
            <text>  ${payments.printHost()}</text>
        </line>
        <line>
            <text align="right" length="10">Cajero:</text>
            <text>  ${payments.printUser()}</text>
        </line>
        <line>
            <text align="right" length="10">Folio:</text>
            <text>  ${payments.printSequence()}</text>
        </line>
        <line></line>
        <line>
            <text align="right" length="18">Fecha de inicio:</text>
            <text>  ${payments.printDateStart()}</text>
        </line>
        <line>
            <text align="right" length="18">Fecha final:</text>
            <text>  ${payments.printDateEnd()}</text>
        </line>
        <line></line>
        <line>
            <text align="center" length="38" bold="true">Resumen por productos:</text>
        </line>
        <line></line>       
        <line>
            <text align ="center" length="28">Producto</text>
            <text align ="center" length="4">Can</text>
            <text align ="center" length="9">Total</text>
            <!-- <text align ="center" length="10">Costo</text>
            <text align ="right" length="32">Qty</text>
            <text align ="right" length="10">Total</text> -->
        </line>
        <line>
            <text>----------------------------------------</text>
        </line> 
        #foreach ($line in $payments.getProductSalesLines())
        <line>
            #if ($line.getProductSubValue() < 0.0) 
                <text align ="left" length="28">  Descuento aplicado</text>
            #else
                <text align ="left" length="28">  ${line.printProductName()}</text>
            #end           
            <!-- <text align ="right" length="10">${line.printProductPriceTax()}</text>
            <text align ="right" length="5">${line.printTaxRate()}</text> -->
            <text align ="center" length="4"> x${line.printProductUnits()}</text>
            #set($sinceros1 = ${line.printProductSubValue()})
            #set($sinceros1 = $sinceros1.substring(0, $sinceros1.indexOf(".")))
            <text align ="right" length="8">$sinceros1</text>       
        </line>
        #end
        <line>
            <text>----------------------------------------</text>
        </line>
        <line></line>       
        <line size="1" bold="true">
            <text align="right" length="22"> </text>
            <text align="left" length="6">Total:</text>
        </line>
        <line size="1" bold="true">
	    <text align="right" length="15"> </text>
            <text align="left" length="18">${payments.printSalesTotal()}</text>
        </line>
	<line size="1" bold="true">
	    <text align="right" length="23"> </text>
            <text align="left" length="5">Pesos</text>
        </line>
        <!-- <line></line>
        <line>
            <text align="center" length="38" bold="true">Resumen por categorías:</text>
        </line>
        <line></line>
	<line>
	    <text align ="center" length="23">Categoría</text>
            <text align ="center" length="18">Total</text>
        </line> -->
	<!-- <line> -->

        <!-- </line> -->
        <!-- #foreach ($line in $payments.CategoriaLine())
        <line>
            <text align ="left" length="23">${line.CategorieName()}</text>
            <text align ="center" length="8">${line.CategorieUnits()}</text>
            <text align ="center" length="18">${line.CategoriePrice()}</text>
        </line>
        #end -->
        <!-- <line>        </line> -->
        <!--<line></line>
        <line>
            <text bold="true">Reporte de pagos.</text>
        </line> -->
        <!-- <line>
            <text>Total de tickets vendidos:</text>
            <text align ="left" length="5">${payments.printProductSalesRows()}</text>
        </line> -->
        <!--    <text align ="left" length="5">${payments.printSales()}</text>
        </line>
        <line>
            <text align ="left" length="5">${payments.printCategorySalesRows()}</text>
        </line> -->
        <!-- <line>
            <text align="right" length="14"> </text>
            <text align ="right" length="9">${line.printType()}</text>
            <text align ="left" length="17">${line.printValue()} Pesos</text>
        </line> -->
        <line></line>
        <line>
            <text align="center" length="38" bold="true">Resumen por tipos de pago:</text>
        </line>
        <line></line>
        <line>
            <text align ="center" length="23">Tipo de pago</text>
            <text align ="center" length="18">Total</text>
        </line>
        <line>
            <text>----------------------------------------</text>
        </line>
        #foreach ($line in $payments.getPaymentLines())
        <line>
            <text align ="left" length="23">  ${line.printType()}</text>
            <text align ="right" length="11">${line.printValue()}</text>
            <text align ="center" length="7">Pesos</text>
        </line> 
        #end
        <line>
            <text>----------------------------------------</text>
        </line>
        <line></line>       
        <line size="1" bold="true">
            <text align="right" length="22"> </text>
            <text align="left" length="6">Total:</text>
        </line>
        <line size="1" bold="true">
	    <text align="right" length="15"> </text>
            <text align="left" length="18">${payments.printPaymentsTotal()}</text>
        </line>
	<line size="1" bold="true">
	    <text align="right" length="23"> </text>
            <text align="left" length="5">Pesos</text>
        </line>
        <line></line>        
        <!-- <line size="1" bold="true">
            <text align="right" length="17"> </text>
            <text align="right" length="6">Total:</text>
            <text align="left" length="17">${ticket.printTotal()} Pesos.</text>
        </line> -->
        <!-- <line>
            <text align ="right" length="40">Total.</text>
        </line> -->
        <!-- <line>
            <text align ="right" length="6">Pagos:</text>
            <text align ="left" length="17">${payments.printPayments()}</text>
        </line> -->
        <!-- <line></line>
        <line size="1">
            <text align ="right" length="6" bold="true">Total.</text>
            <text align ="left" length="17" bold="true">${payments.printPaymentsTotal()}</text>
        </line> -->
        <!-- <line></line>
        <line>
            <text bold="true">Reporte de impuestos</text>
        </line>
        <line>
            <text align ="right" length="42">Total</text>
        </line> -->
        <!-- <line>
            <text align ="left" length="32">${line.printTaxName()}</text>
            <text align ="right" length="10">${line.printTaxes()}</text>
        </line>
        -->
        <!-- <line size="1">
            <text align ="left" length="32" bold="true">Subtotal</text>
            <text align ="right" length="10" bold="true">${payments.printSalesBase()}</text>
        </line> -->
        <!-- <line></line> -->
        <line></line>
        <line></line>
        <line></line>
        <line>
            <text>----------------------------------------</text>
        </line>
        <line>
            <text align="center" length="38">Cajero: ${payments.printUser()}</text>
        </line>
        <line></line>
        <line></line>
        <line></line>
        <line>
            <text>----------------------------------------</text>
        </line>
        <line>
            <text align="center" length="38">Auditoria PeoniaPOS</text>
        </line>
    </ticket>
</output>